<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/emat10006/libs/highlight/github.min.css"> <link rel=stylesheet  href="/emat10006/css/franklin.css"> <link rel=stylesheet  href="/emat10006/css/basic.css"> <link rel=icon  href="/emat10006/assets/favicon.png"> <title> &mdash; Scientific Computing</title> <header> <div class=blog-name ><a href="">EMAT10006: Further Computer Programming</a></div> <nav> <ul> <li><a href="/emat10006/">Overview</a> <li><a href="/emat10006/worksheets/">Worksheets</a> <li><a href="/emat10006/slides/">Slides</a> <li><a href="/emat10006/terminals/">Terminals</a> </ul> <img src="/emat10006/assets/hamburger.svg" id=menu-icon > </nav> </header> <div class=franklin-content ><p>EMAT10006: Further Computer Programming<br /> Week 1 – using Python from the command line<br /> <hr /></p> <h1>Getting started</h1> <p>Please read through the following bits of housekeeping before attempting the remaining worksheet tasks.</p> <h2>Finding a TA</h2> <p>Before you start with this week&#39;s tasks on learning to use the terminal, please make sure you are registered with a post-graduate Teaching Assistant &#40;TA&#41;. They should be standing around near your table and wearing name badges. Please fill out your name and username on the register they are carrying. As with the Introduction to Programming unit last term, you should sit at the same table each week in order to get help from your TA. You will receive an email form them next week.</p> <p>If you were not in the lab on Friday 31st January, and are reading this after, please email Shree Sarvaharman urgently &#40;s.sarvaharman&#64;bristol.ac.uk&#41; to arrange finding a TA.</p> <p>Later in the unit there will be assignments which will require you to work in a pair, and in a group of four. The idea is that everyone in these groups, where possible, will come from within your TA group.<br /> Using your own computer –––––––––––-</p> <p>This worksheet has been written assuming you are using a lab computer. If you wish to use your own computer you will need to first make sure you have:</p> <ol> <li><p>a bash shell installed,</p> <li><p>Python 3.X installed,</p> <li><p>Python 3 on your computer&#39;s PATH variable.</p> </ol> <p>If you are running <strong>Linux</strong> or <strong>OSX</strong>, they come with a bash terminal as standard. So all you need to do is download the correct version of Python &#40;3.X&#41;, and add it to your PATH by opening a terminal and typing <code>export PATH&#61;&quot;PATH:your_python_path&quot;</code>&#123;.text&#125;, where <code>your_python_path</code>&#123;.text&#125; is replaced with the location of your Python3 installation. By default this is <code>/usr/local/bin/python</code>&#123;.text&#125;. We will talk more about the PATH variable later. Note that some machines come with Python 2 by default, but since we are using Python 3, you will need to go and download the correct version.<br />If you are running <strong>Windows</strong> we strongly recommend you use a lab computer this week, as Windows does not come with a bash terminal. Next week you will get instructions on installing Git, which comes with a bash terminal.</p> <h2>A word of warning...</h2> <p>Be careful when trying to copy and paste code snippets from these worksheets. In documents which are in Portable Document Format &#40;PDF&#41;, characters are sometimes encoded in strange ways, which can create unexpected or different characters when pasted into a text editor. Please be aware of this, and ideally type code out yourself. We will provide you with longer code snippets on Blackboard when required, and this will be made clear in the worksheet.</p> <h1>Using the terminal</h1> <p>The terminal &#40;or command line&#41; is an essential part of any operating system. It&#39;s an efficient way to navigate a file system, open files, run executables and make time-saving scripts. Pretty much anything you do by clicking around on a GUI &#40;Graphical User Interface&#41; can be done in the terminal, often more efficiently&#33;</p> <h2>Basic terminal commands</h2> <ul> <li><p>First open up a terminal by hitting the Windows key &#40;or clicking Activities&#41;, then typing &quot;terminal&quot; and pressing enter. A terminal window will open, with some stuff followed by a line that reads <code>bash-4.2&#36;</code>&#123;.text&#125; telling you the computer is running version 4.2 of bash, and the <code>&#36;</code>&#123;.text&#125; is the bash prompt, indicating you can enter bash commands.</p> <li><p>So let&#39;s try our first bash commands&#33; Type <code>ls</code>&#123;.text&#125; and hit enter. You should see something like this:</p> <p><code>&#123;.shell bgcolor&#61;&quot;termbgcol&quot; breaklines&#61;&quot;&quot;&#125; &#36; ls Desktop Documents Downloads</code></p> <p>The <code>ls</code>&#123;.text&#125; command is a special terminal command that means list the contents of the current directory. In this case the directory is my user directory and it shows all of the folders that are contained within it. After you hit enter the terminal will run the <code>ls</code>&#123;.text&#125; command and the <code>ls</code>&#123;.text&#125; command will print out a list of the files and folders in the current directory: this appears on the second and third lines &#40;bin, Desktop etc.&#41;.</p> <li><p>Note that from now on that shaded section above is how you can expect to see terminal commands demonstrated. I&#39;ve omitted the stuff before the prompt, but what comes immediately after the prompt is the command you should type before hitting enter. Also because we are on different machines, you can expect the output to sometimes look a little different, as you will have different folders and files to me&#33;</p> <li><p>The next two commands we want to learn in addition to <code>ls</code>&#123;.text&#125; are <code>pwd</code>&#123;.text&#125; and <code>cd</code>&#123;.text&#125;. The <code>pwd</code>&#123;.text&#125; command is short for &quot;print working directory&quot; and will print out the current working directory. This is the folder that you are currently working in. The <code>cd</code>&#123;.text&#125; command is short for &quot;change directory&quot; and is used to change to a new working directory. You can then use <code>ls</code>&#123;.text&#125; to see what is in the new working directory:</p> <p><code>&#123;.shell bgcolor&#61;&quot;termbgcol&quot;&#125; &#36; pwd /home/sw1850 &#36; ls Desktop Documents current &#36; cd current/emat10006 &#36; ls index.html Makfile src/ &#36; pwd /home/sw1850/current/emat10006</code></p> <p>In the session above I use <code>pwd</code>&#123;.text&#125; to show that I am currently in the directory <code>/home/sw1850</code>&#123;.text&#125; &#40;this is the name of my user directory on this computer&#41;. Within my user directory is a folder called <code>current</code>&#123;.text&#125; which contains things I am currently working on. In there is a folder called <code>emat10006web</code>&#123;.text&#125; which contains the files used for working on this unit. If I want to work in that directory I can change to it by typing <code>cd current/emat10006web</code>&#123;.text&#125;. Afterwards my current working directory is <code>/home/sw1850/current/emat10006web</code>&#123;.text&#125; and if I run <code>ls</code>&#123;.text&#125; it will show me the contents of this new directory.</p> <li><p><strong>Exercise:</strong> Try these commands out yourself. Get comfortable moving between directories, looking at files and the working directory as you go.</p> <li><p><strong>Exercise:</strong> Can you figure out what entering the command <code>cd ..</code>&#123;.text&#125; does?</p> <li><p>You may have found some issues when using <code>cd</code>&#123;.text&#125; to move around if a directory has a space character in it. The <code>cd</code>&#123;.text&#125; command sees strings separated by a space as two separate strings and will try to change to a directory named by the string before the space. This is why it&#39;s a good idea to avoid using spaces, and instead use dashes &#40;-&#41; or underscores &#40;&#95;&#41;, when naming files and folders. You can get around this by using quotation marks, e.g. <code>cd &#39;My Directory&#39;</code>&#123;.text&#125;.</p> </ul> <p>You can do all of things you might do in a formal file browser in the terminal&#33; Below I&#39;ve demonstrated lots of new commands.</p> <ul> <li><p><strong>Exercise</strong>: Try all of these commands for yourself. Work out what they each do by checking your directory with <code>ls</code>&#123;.text&#125; before moving onto the next command.</p> <li><p>If you&#39;re unsure what they do, try checking their help function by typing the command followed by <code>--help</code>&#123;.text&#125;, for example <code>cp --help</code>&#123;.text&#125; &#40;you should only need to read the top of the help&#41;.</p> <li><p>Lines starting with a <code>#</code>&#123;.text&#125; are comments, which you don&#39;t need to enter, but contain extra questions or tips.</p> </ul> <pre><code class="julia hljs">{.shell bgcolor=<span class=hljs-string >&quot;termbgcol&quot;</span>}
  $ mkdir new-work
  $ cd new-work
  $ touch foo.txt
  $ <span class=hljs-comment ># make sure to ls after each command!</span>
  $ touch ../bar.txt
  $ <span class=hljs-comment ># where is bar.txt?</span>
  $ gedit foo.txt</code></pre> <p>At this point gedit &#40;a text editor installed on the lab computers&#41; should open, and you should add some text &#40;use multiple lines, and some tab characters too&#41;, save it then close the window. Note that the prompt will not appear in the terminal while gedit is still open.</p> <pre><code class="julia hljs">{.shell bgcolor=<span class=hljs-string >&quot;termbgcol&quot;</span>}
  $ cat foo.txt
  $ cat foo.txt -A
  $ <span class=hljs-comment ># what do you think those extra characters represent?</span>
  $ cp foo.txt foo2.txt
  $ mv foo2.txt new-foo.txt
  $ cat foo.txt new-foo.txt
  $ mv ../bar.txt bar.txt
  $ echo hello there
  $ echo hello there &gt; bar.txt
  $ <span class=hljs-comment ># now try looking at the contents of bar.txt</span>
  $ echo foo.txt
  $ <span class=hljs-comment ># is this what you expected to see?</span>
  $ rm foo.txt
  $ cd ..
  $ rm -r new-work</code></pre> <p>Below are some useful tips and shortcuts to make you super-speedy when using the terminal:</p> <ul> <li><p>&quot;Tab auto complete&quot; helps avoid typing out lengthy file / directory names, and reduces typos. Whenever you start typing the name of a file or directory, hit the Tab key and the terminal will try and automatically complete what you are typing based on what&#39;s in the directory. E.g. say I enter <code>ls</code>&#123;.text&#125; in my current directory and see 3 folders:</p> <p>&#96;&#96;&#96; &#123;.shell bgcolor&#61;&quot;termbgcol&quot;&#125; &#36; ls lecture<em>notes/ homework</em>questions/ homework_solutions/</p> <p>&#96;&#96;&#96;</p> <p>If I type <code>cd l</code>&#123;.text&#125; and hit tab it completes to <code>cd lecture_notes</code>&#123;.text&#125;. If I type <code>cd ho</code>&#123;.text&#125; and hit tab multiple times, it cycles between <code>cd homework_questions</code>&#123;.text&#125; and <code>cd homework_solutions</code>&#123;.text&#125;. Hitting enter runs the command as usual. Navigate to somewhere with lots of folders / files and play around with this. Try just typing <code>cd</code>&#123;.text&#125; &#40;with a space&#41; and hitting tab twice – what happens? Try accessing a folder within a folder, e.g. <code>cd lecture_notes/week1/</code>&#123;.text&#125; using tab to autocomplete both parts of the path.</p> <li><p>You can cycle through old commands using the arrow keys. Try hitting the up arrow key a few times, then hit enter to run the displayed command.</p> <li><p>Try typing the command <code>history</code>&#123;.text&#125; and hitting enter. You&#39;ll see a list of previously entered command with numbers next to them, e.g.</p> <p>&#96;&#96;&#96; &#123;.shell bgcolor&#61;&quot;termbgcol&quot;&#125; &#36; history 121 rm some<em>rubbish.txt 122 cd homework</em>solutions 123 ls 124 cd engmaths/week13</p> <p>&#96;&#96;&#96;</p> <p>Then typing e.g. <code>&#33;122</code>&#123;.text&#125; and hitting enter will run <code>cd homework_solutions</code>&#123;.text&#125;.</p> <li><p>The previously typed command can always be referred to as <code>&#33;&#33;</code>&#123;.text&#125;. This can be useful is you forgot something at the end or start of your previous command.</p> <li><p>You may have noticed that you cannot move the terminal cursor using the mouse. To move to the start of the line we use <code>Ctrl-a</code>&#123;.text&#125;, to move the end of the line we use <code>Ctrl-e</code>&#123;.text&#125;. To move forward and backward by character use <code>Ctrl-f</code>&#123;.text&#125;, and <code>Ctrl-b</code>&#123;.text&#125;. You should never really use arrow keys.</p> </ul> <p><strong>Exercise:</strong> try all of these out&#33;</p> <h2>Hello World&#33;</h2> <p>Next, we are going to make a Hello World program. Of course you&#39;ve already done this in Python, but we are going to run it from the terminal.</p> <ul> <li><p>Start by opening a text editor &#40;on lab computers we recommend gedit&#41; and writing a Hello World program. Save it as <code>hello.py</code>&#123;.text&#125; <em>taking careful note of where you save it&#33;</em> &#40;If you&#39;re getting confident with the terminal, try just entering: <code>gedit hello.py</code>&#123;.text&#125;, this will create a new file and open it for editing straight away, write your script and save and quit and the terminal will be ready to go again. Hopefully you&#39;re starting to see benefits of using the terminal&#33;&#41;</p> <li><p>Open the terminal, and using the commands you learned above, navigate to the folder where your <code>hello.py</code>&#123;.text&#125; script is saved.</p> <li><p>To run the <code>hello.py</code>&#123;.text&#125; Python script we run the <code>python</code>&#123;.text&#125; command and give it the name of the script we want it to run:</p> <p><code>&#123;.shell bgcolor&#61;&quot;termbgcol&quot;&#125; &#36; python hello.py Hello World&#33;</code></p> <p>There&#39;s our expected output&#33; Here the <code>python</code>&#123;.text&#125; command tells the computer to run <code>python.exe</code>&#123;.text&#125; &#40;the Python interpreter&#41; with the path of our script <code>hello.py</code>&#123;.text&#125; as an argument &#40;more on this below&#41;. Python then knows to execute this Python script. Note, that since we first navigated to the directory where <code>hello.py</code>&#123;.text&#125; is located, the relative path was just the name of the file; but in general we could provide a path to a script in a different directory, or use an absolute path.</p> <li><p>But how does the terminal know to understand the <code>python</code>&#123;.text&#125; command? It isn&#39;t a standard bash command, like <code>pwd</code>&#123;.text&#125; or <code>cd</code>&#123;.text&#125;. The answer is because <code>python</code>&#123;.text&#125; is on the computer&#39;s PATH environment variable. This variable specifies a set of directories which contain executable programs which you might frequently want to run. Python is one such program and so when you type <code>python</code>&#123;.text&#125; into the terminal, the computer looks through the directories in its PATH variable, looking for one called <code>python.exe</code>&#123;.text&#125; which it then runs. This saves you having to remember and type out the absolute paths of commonly used executables.The same goes for all of the terminal commands you are using, they stored in some directory on the PATH. Look at what&#39;s on your PATH variable using <code>echo &#36;PATH</code>&#123;.text&#125; &#40;the <code>&#36;</code>&#123;.text&#125; here tells the terminal that <code>PATH</code>&#123;.text&#125; is a variable, try to run it without the <code>&#36;</code>&#123;.text&#125;. The terminal now sees the word <code>PATH</code>&#123;.text&#125; as a plain old string&#41;.</p> </ul> <h2>Python Interactive Mode</h2> <p>Another thing we can do with the <code>python</code>&#123;.text&#125; command in the terminal is just to enter the Python interactive mode. It behaves a bit like a terminal but where you type Python commands. Just type <code>python</code>&#123;.text&#125; and hit enter, and you&#39;ll see a welcome message and the <code>&#36;</code>&#123;.text&#125; prompt will change to a <code>&gt;&gt;&gt;</code>&#123;.text&#125;, Python&#39;s prompt. From here you can now type in Python commands &#40;but not bash commands until you quit Python interactive mode by typing <code>quit&#40;&#41;</code>&#123;.text&#125;&#41;.</p> <p>The interactive mode is great for trying out little code snippets, finding the right in-built function, etc. Now is the perfect time to re-familiarise yourself with some basic Python, as we won&#39;t have time to revise things you were taught last term. Make sure you can remember how to use:</p> <ul> <li><p>variables: how to initialise them, the basic types, casting and scope</p> <li><p>data structures such as lists, dictionaries and tuples: how to initialise them, access elements, append to them, and other basic functionality</p> <li><p>basic control flow using conditional statements and loops</p> <li><p>importing and using modules such as <code>math</code>&#123;.text&#125;</p> </ul> <p>As you will remember, using interactive mode is only really for writing a line or two of code. Practically, we will always be working with Python scripts and running them from the terminal like we did with <code>hello.py</code>&#123;.text&#125; above.</p> <h2>Using a shebang</h2> <p>Add a line to the top of your <code>hello.py</code>&#123;.text&#125; script, so that it looks like this:</p> <p>This line at the top is called a shebang, or hash bang. Now you may not think adding this would do anything, since lines starting with a <code>#</code>&#123;.text&#125; in Python are comments and the interpreter ignores them. But this line isn&#39;t for the Python interpreter, it&#39;s actually for the operating system&#39;s program loader. The program loader will read the first two bytes of a file, and if they are <code>0x23 0x21</code>&#123;.text&#125; &#40;which, in ascii, are the characters <code>#&#33;</code>&#123;.text&#125;&#41; it knows to treat this file as a script. The script will then be passed to the executable mentioned on the first line – in our case the <code>python</code>&#123;.text&#125; command which calls the Python interpreter. Python then reads the line as a comment, as usual, and executes the script. The shebang must come write at the beginning of the file.</p> <p>Shebangs are used because it allows the person who wrote the script to control how the script is run on a user&#39;s computer, rather than the other way around. In our case for example, we have specified that our script should be run with <code>python3</code>&#123;.text&#125;, rather than any other version of Python. This is useful because if we released our script and a user runs it from the terminal as <code>python hello.py</code>&#123;.text&#125;, then they might be running it with the wrong version of Python and the behaviour might not be as we intended.</p> <p>After adding the shebang to your script and saving it, run the following commands:</p> <pre><code class="julia hljs">{.shell bgcolor=<span class=hljs-string >&quot;termbgcol&quot;</span>}
  $ ls -l
  -rw-r--r-- <span class=hljs-number >1</span> sw1850 <span class=hljs-number >1049089</span>     <span class=hljs-number >46</span>  Jan <span class=hljs-number >29</span> <span class=hljs-number >16</span>:<span class=hljs-number >46</span> hello.py
 $ chmod +x hello.py
 $ ls -l
 -rwxr-xr-x <span class=hljs-number >1</span> sw1850 <span class=hljs-number >1049089</span>     <span class=hljs-number >46</span> Jan <span class=hljs-number >29</span> <span class=hljs-number >16</span>:<span class=hljs-number >58</span> hello.py*
 $ ./hello.py
 Hello World</code></pre> <p>The <code>ls -l</code>&#123;.text&#125; command works like <code>ls</code>&#123;.text&#125; but shows more information. The first 10 characters of the line with the file information are the permissions the file has. Notice how some of the dashes turn to <code>x</code>&#123;.text&#125; after the second command is ran. The <code>chmod</code>&#123;.text&#125; command is short for &quot;change mode&quot;, and it changes the mode &#40;or permissions&#41; of the file. So <code>chmod &#43;x hello.py</code>&#123;.text&#125; file has changed the permission of the script to be executable &#40;it can also change read and write permissions, for example&#41;, and this is what the <code>x</code>&#123;.text&#125; is telling us. Changing this &#39;bit&#39; basically lets the operating system know this file is an executable, and you should now find you can run your script by simply typing <code>./hello.py</code>&#123;.text&#125; without explicitly invoking the Python interpreter. Try it&#33;</p> <p>It may seem like a minor addition, but shebangs are used universally by real programmers when writing scripts to make them robust across platforms. You should always use them from now on&#33; Don&#39;t forget to change the executable permission bit using <code>chmod &#43;x filename.py</code>&#123;.text&#125; for each new script you write.</p> <h1>Command line arguments</h1> <p>Command line arguments are the usual way in which a user tells a program how they want it to run. You have heard the word &#39;arguments&#39; before when talking about functions in Python. Arguments are the inputs you give to a function, and might paths to specify: how the function should run; provide some data; provide files, etc.. It is a similar idea when we give a program arguments from the command line, they are the inputs the program runs with, meaning a user can specify how they want the program to run at the time of execution.<br />In fact we have already seen this several times – you have been using command line arguments all along&#33; When entering the command <code>cd my_directory</code>&#123;.text&#125; into the terminal, <code>my_directory</code>&#123;.text&#125; is an argument that is passed to <code>cd</code>&#123;.text&#125; specifying which directory it should open. When we run <code>python hello.py</code>&#123;.text&#125;, we are passing the path of our python script &#40;in this case just <code>python.py</code>&#123;.text&#125;&#41; to the interpreter as an argument. Some of the commands you used earlier took two arguments, such as <code>mv</code>&#123;.text&#125; which took a source and a destination. In actual fact nearly all of these commands can take a variable number of arguments.</p> <p>Try copying this simple Python script and saving it as <code>cl-arguments.py</code>&#123;.text&#125; The program prints out the command line arguments given at execution:<br /> Here&#39;s an example of executing this program from the command line:</p> <pre><code class="julia hljs">{.shell bgcolor=<span class=hljs-string >&quot;termbgcol&quot;</span>}
  $ chmod +x cl-arguments.py
  $ ./cl-arguments.py <span class=hljs-number >10</span> foo <span class=hljs-number >87.4</span>
	<span class=hljs-number >4</span> command line argument(s) inputted:
	cl_arguments.py
	<span class=hljs-number >10</span>
	foo
	<span class=hljs-number >87.4</span></code></pre> <p>First we have imported the <code>sys</code>&#123;.text&#125; library, which allows access to a variable called <code>argv</code>&#123;.text&#125;. This is the list of command line arguments that were given to the Python interpreter upon execution, stored as strings. After that we print <code>argv</code>&#123;.text&#125;&#39;s length, then loop over the list printing each element. Play around with running the program with different arguments – spaces separate them, but what if you use quotation marks? Are there characters it ignores? Notice how the name of the script is the first &#40;or zero-th&#41; element of <code>sys.argv</code>&#123;.text&#125;. This is because <code>argv</code>&#123;.text&#125; is the list of arguments provided to <code>python</code>&#123;.text&#125;, not specifically to our script.<br /></p> <ul> <li><p><strong>Exercise</strong> Write a program which accepts up to 5 integers as command line arguments, and prints their sum to the terminal. If more than five are entered, instead print an error message.</p> </ul> <p>Notice how the number of arguments given at the command line is not necessarily fixed. Programs often take advantage of this to allow optional arguments, or as a way of specifying how a program should run. Again, we have already seen this, as we have seen that running <code>python</code>&#123;.text&#125; with no arguments opens it in interactive mode; whereas running it with a script filename, runs that script.</p> <p>Try running the commands <code>python --help</code>&#123;.text&#125;, <code>python --version</code>&#123;.text&#125; or <code>ls -l</code>&#123;.text&#125;. These arguments are called &#39;flags&#39;, and are the conventional way of allowing the user to indicate how they want the program to run. They are usually distinguished from other arguments by the prefix &#39;–&#39; but they are still just strings. When you run Python with the <code>--help</code>&#123;.text&#125; flag, notice it lists all the different flags you can specify.</p> <h2>Using <code>__name__</code>&#123;.text&#125;</h2> <p>Lastly we are going to cover another convention used by programmers when writing Python scripts. As you should have noticed, when Python scripts are ran, the interpreter seems to start by running the lines of code it finds which are <em>not</em> in a function. The convention in Python is that &#40;usually&#41; the only code not in a function is inside a strange looking conditional statement, like this:</p> <pre><code class="julia hljs">{.python breaklines=<span class=hljs-string >&quot;&quot;</span> tabsize=<span class=hljs-string >&quot;4&quot;</span> linenos=<span class=hljs-string >&quot;&quot;</span> bgcolor=<span class=hljs-string >&quot;codebgcol&quot;</span>}
<span class=hljs-keyword >if</span> __name__ == &#x27;__main__&#x27;:
	main()</code></pre> <p>This says that the function called <code>main</code>&#123;.text&#125; will only be ran if a variable called <code>__name__</code>&#123;.text&#125; has the value <code>&#39;main&#39;</code>&#123;.text&#125;. Note that since this is the only code in the script not in a function, if <code>__name__</code>&#123;.text&#125; does not equal <code>&#39;main&#39;</code>&#123;.text&#125; then no further code will be executed.</p> <p>The primary reason for doing this will become clearer a bit later in the course, when we cover importing modules. But for those of you who can&#39;t wait until then here is a brief description: when the Python interpreter reads a source file it sets up a few variables first, before executing all the code. One of those variables is called <code>__name__</code>&#123;.text&#125;. If your module &#40;script&#41; is being ran as the main program &#40;e.g. <code>python foo.py</code>&#123;.text&#125; then this variable is set to <code>__name__ &#61; &#39;__main__&#39;</code>&#123;.text&#125;. Whereas if your module is being imported by another script, e.g. <code>bar.py</code>&#123;.text&#125; contains the line <code>import foo.py</code>&#123;.text&#125;, then the <code>__name__</code>&#123;.text&#125; is set to something else for <code>foo.py</code>&#123;.text&#125;. Therefore the conditional statement at the end only executes when your module is the one being ran. Only then will the main function in <code>foo.py</code>&#123;.text&#125; be ran. Otherwise the functions and stuff in <code>foo.py</code>&#123;.text&#125; will be callable in <code>bar.py</code>&#123;.text&#125; once it has been imported, but the main function in <code>foo.py</code>&#123;.text&#125; will not run on that import line.&#41;</p> <p>Essentially this allows your script to be either ran by itself, or imported elsewhere for its functions. This is another convention you should get used to doing yourself&#33; Here&#39;s an example of a Python script which uses all of the above conventions. The code is in a file called <code>upper-lower.py</code>&#123;.text&#125; on Blackboard. Once you fully understand how it works, move on to the final task.</p> <h2>Task: Writing a program using command line arguments</h2> <p>Now for your first actual programming task of the unit&#33; Unlike with the Intro to Programming unit, your assignments on this unit will require you to adhere very closely to an assignment specification. This means, for example, that your file names should be exactly as specified, and the arguments your program takes and outputs it gives must be precisely as they are asked for. This is how it would be for a real software engineer. This short task lets you practice this, as well as the topics we&#39;ve covered this week before your first assignment next week.<br />Write a program called <code>averages.py</code>&#123;.text&#125; that can calculate the mean, median and mode of some data.</p> <p>The inputs to the program should be given through the command line, and consist of:</p> <ul> <li><p>Optional flags: <code>--mean</code>&#123;.text&#125;, <code>--mode</code>&#123;.text&#125;, <code>--median</code>&#123;.text&#125; or any combination of these &#40;you may assume they must be in this order, even if some are omitted&#41;</p> <li><p>The program should expect the data to be integers entered as arguments &#40;up to a maximum of 8 data points&#41;</p> <li><p>When ran without <code>--mean</code>&#123;.text&#125;, <code>--mode</code>&#123;.text&#125;, or <code>--median</code>&#123;.text&#125; the program should output all three averages. The format of the output should be exactly as shown below.</p> <li><p>When ran with any combination of <code>--mean</code>&#123;.text&#125;, <code>--mode</code>&#123;.text&#125;, or <code>--median</code>&#123;.text&#125; it should output just those averages specified.</p> <li><p>When an unrecognised flag is inputted, or non-integer data points are given, etc., appropriate error messages should be given.</p> <li><p><strong>Extension</strong>: The program should also accept an additional optional flag, <code>--file</code>&#123;.text&#125; &#40;you may assume this always comes after the other flags&#41;. When ran with the <code>--file</code>&#123;.text&#125; flag, the program expects one non-flag input which should be the name of a .txt file in which there is the data, formatted as one integer per line &#40;with no maximum number of data points&#41;</p> </ul> <p>Some example inputs and outputs:</p> <pre><code class="julia hljs">{.shell bgcolor=<span class=hljs-string >&quot;termbgcol&quot;</span>}
  $ python averages.py <span class=hljs-number >1</span> <span class=hljs-number >2</span> <span class=hljs-number >3</span> <span class=hljs-number >4</span> <span class=hljs-number >5</span>
  Mean: <span class=hljs-number >3</span>
  Median: <span class=hljs-number >3</span>
  Mode: <span class=hljs-number >1</span>, <span class=hljs-number >2</span>, <span class=hljs-number >3</span>, <span class=hljs-number >4</span>, <span class=hljs-number >5</span></code></pre> <pre><code class="julia hljs">{.shell bgcolor=<span class=hljs-string >&quot;termbgcol&quot;</span>}
  $ python averages.py --median --mode <span class=hljs-number >1</span> <span class=hljs-number >1</span> <span class=hljs-number >1</span> <span class=hljs-number >1</span> <span class=hljs-number >1</span> <span class=hljs-number >2</span> <span class=hljs-number >2</span> <span class=hljs-number >2</span>
  Median: <span class=hljs-number >1</span>
  Mode: <span class=hljs-number >1</span></code></pre> <pre><code class="julia hljs">{.shell bgcolor=<span class=hljs-string >&quot;termbgcol&quot;</span>}
  $ python averages.py --mean --file my-data.txt
  Mean: <span class=hljs-number >43.5</span></code></pre> <pre><code class="julia hljs">{.shell bgcolor=<span class=hljs-string >&quot;termbgcol&quot;</span>}
  $ python averages.py --mean --mode --file my-data.txt <span class=hljs-number >4</span> <span class=hljs-number >5</span> <span class=hljs-number >24</span>
  Error: expected one non-flag input when -file is specified</code></pre> <pre><code class="julia hljs">{.shell bgcolor=<span class=hljs-string >&quot;termbgcol&quot;</span>}
  $ python averages.py --mode <span class=hljs-number >1</span> <span class=hljs-number >4</span> <span class=hljs-number >5</span> <span class=hljs-number >1</span> <span class=hljs-number >4</span> <span class=hljs-number >5</span> <span class=hljs-number >6</span> <span class=hljs-number >7</span> <span class=hljs-number >7</span> <span class=hljs-number >7</span> <span class=hljs-number >7</span> <span class=hljs-number >7</span>
  Error: expected max <span class=hljs-number >8</span> integer data points</code></pre> <p>Before you start writing, think carefully about the control flow of your program, and how to deal with the variety of different combinations of inputs. You should also make sure you use functions to organise the code. As a <em>minimum</em> it should have a main function then one function each for the mean, median and mode calculations. Use this to help with efficiency: e.g. if the user specifies only the mode, don&#39;t bother calculating the mean or median.</p> <div class=page-foot > <div class=copyright > &copy; Oscar Benjamin. Last modified: February 02, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>. </div> </div> </div>