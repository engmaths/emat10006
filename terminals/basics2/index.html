<!doctype html> <html lang=en > <meta charset=UTF-8 > <meta name=viewport  content="width=device-width, initial-scale=1"> <link rel=stylesheet  href="/emat10006/libs/katex/katex.min.css"> <link rel=stylesheet  href="/emat10006/libs/highlight/github.min.css"> <link rel=stylesheet  href="/emat10006/css/franklin.css"> <link rel=stylesheet  href="/emat10006/css/basic.css"> <link rel=icon  href="/emat10006/assets/favicon.png"> <title>Loops, conditionals, and functions &mdash; Scientific Computing</title> <header> <div class=blog-name ><a href="">EMAT10006: Further Computer Programming</a></div> <nav> <ul> <li><a href="/emat10006/">Overview</a> <li><a href="/emat10006/materials/">Materials</a> <li><a href="/emat10006/cheatsheet/">Cheatsheet</a> </ul> <img src="/emat10006/assets/hamburger.svg" id=menu-icon > </nav> </header> <div class=franklin-content ><h1 id=loops_conditionals_and_functions ><a href="#loops_conditionals_and_functions">Loops, conditionals, and functions</a></h1> <p>Like all programming languages Python has loops, conditionals and functions. I will briefly write about these here but I don&#39;t want to repeat what&#39;s already written better in other places. For more please refer to the <a href="https://docs.python.org/3/tutorial/controlflow.html">official python.org tutorial</a>.</p> <p>There are some <a href="#exercises">exercises</a> below to test your understanding of these concepts.</p> <h2 id=loops ><a href="#loops">Loops</a></h2> <p>Python has <code>while</code> statements which are more or less the same as in all programming languages. It also has <code>for</code> loops and these are potentially different from what you would be used to coming from other languages. The key thing to understand about <code>for</code> loops in Python is that we loop over an <em>object</em>:</p> <pre><code class="python hljs"><span class=hljs-meta >&gt;&gt;&gt; </span>stuff = [<span class=hljs-number >1</span>, <span class=hljs-number >2</span>, -<span class=hljs-number >1</span>, <span class=hljs-number >3</span>]
<span class=hljs-meta >&gt;&gt;&gt; </span><span class=hljs-keyword >for</span> x <span class=hljs-keyword >in</span> stuff:
<span class=hljs-meta >... </span>    print(x)
...
<span class=hljs-number >1</span>
<span class=hljs-number >2</span>
-<span class=hljs-number >1</span>
<span class=hljs-number >3</span></code></pre> <p>In this example the object we loop over a <code>list</code> but we can also loop over many other kinds of objects such as <code>strings</code>, <code>tuples</code>, <code>dicts</code>, <code>sets</code>, etc. If you just want to loop over the numbers say from 0 to 3 we use the <code>range</code> function:</p> <pre><code class="python hljs"><span class=hljs-meta >&gt;&gt;&gt; </span><span class=hljs-keyword >for</span> x <span class=hljs-keyword >in</span> <span class=hljs-built_in >range</span>(<span class=hljs-number >4</span>):
<span class=hljs-meta >... </span>    print(x)
...
<span class=hljs-number >0</span>
<span class=hljs-number >1</span>
<span class=hljs-number >2</span>
<span class=hljs-number >3</span></code></pre> <p>Note that <code>range&#40;a, b&#41;</code> gives a <em>half-open</em> range such as mathematically represented with <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mo stretchy=false >[</mo><mi>a</mi><mo separator=true >,</mo><mi>b</mi><mo stretchy=false >)</mo></mrow><annotation encoding="application/x-tex">[a,b)</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:1em;vertical-align:-0.25em;"></span><span class=mopen >[</span><span class="mord mathnormal">a</span><span class=mpunct >,</span><span class=mspace  style="margin-right:0.16666666666666666em;"></span><span class="mord mathnormal">b</span><span class=mclose >)</span></span></span></span> meaning the integers <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>x</mi></mrow><annotation encoding="application/x-tex">x</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathnormal">x</span></span></span></span> such that <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>a</mi><mo>≤</mo><mi>x</mi><mo>&lt;</mo><mi>b</mi></mrow><annotation encoding="application/x-tex">a \le x \lt b</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathnormal">a</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >≤</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.5782em;vertical-align:-0.0391em;"></span><span class="mord mathnormal">x</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >&lt;</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathnormal">b</span></span></span></span>. When called with one argument <code>range&#40;b&#41;</code> is the same as <code>range&#40;0, b&#41;</code>. Observe that there are similarities between the arguments to <code>range</code> and the start, stop and step indices used when slicing i.e. <code>range&#40;a, b, c&#41;</code> gives the indices of the elements selected by <code>stuff&#91;a:b:c&#93;</code> &#40;assuming neither of <code>a</code> or <code>b</code> is negative&#41;.</p> <h2 id=functions ><a href="#functions">Functions</a></h2> <p>Functions are explained in more detail in the <a href="https://docs.python.org/3/tutorial/controlflow.html#defining-functions">official python.org tutorial</a>. Here I only want to add some comments of my own about how to use functions well.</p> <p>Python has functions: use them. If you are used to using Matlab you might have gotten into the habit of not using functions very often because each function needs a new .m file. In Python we can have as many functions as we like in a file and it is common to have many small functions in one file. Functions are good and you should make a habit of composing all your code from small well-designed functions.</p> <p>Some languages &#40;e.g. C and Java&#41; require any function/method to have strictly defined types for both arguments and return values. Often these types must be explicitly declared in the definition of the function. However in Python we don&#39;t declare any types and it is possible to make a function that returns different types of objects at different times e.g.:</p> <pre><code class="python hljs"><span class=hljs-function ><span class=hljs-keyword >def</span> <span class=hljs-title >f</span>(<span class=hljs-params >n</span>):</span>
    <span class=hljs-keyword >if</span> n &lt; <span class=hljs-number >0</span>:
        <span class=hljs-keyword >return</span> <span class=hljs-string >&#x27;a string&#x27;</span>
    <span class=hljs-keyword >else</span>:
        <span class=hljs-keyword >return</span> -n

print(f(<span class=hljs-number >1</span>)) <span class=hljs-comment ># returns int (-1)</span>
print(f(-<span class=hljs-number >1</span>)) <span class=hljs-comment ># Returns a string (&#x27;a string&#x27;)</span></code></pre> <p>This is due to the dynamic nature of Python and in <em>some</em> situations is useful. In general though you should not do this. Functions should always return the same type. For example, a function <code>f&#40;n&#41;</code> could be understood as always taking an integer &#40;<code>n</code>&#41; and return an integer. Doc-strings are useful and can be used to explain the types:</p> <pre><code class="python hljs"><span class=hljs-function ><span class=hljs-keyword >def</span> <span class=hljs-title >absolute_value</span>(<span class=hljs-params >n</span>):</span>
    <span class=hljs-string >&#x27;&#x27;&#x27;absolute_value(n) -&gt; absolute value of number n&#x27;&#x27;&#x27;</span>
    <span class=hljs-keyword >if</span> n &lt; <span class=hljs-number >0</span>:
        <span class=hljs-keyword >return</span> -n
    <span class=hljs-keyword >else</span>:
        <span class=hljs-keyword >return</span> n</code></pre> <p>&#40;Why do I say <code>number</code> instead of <code>int</code>, <code>float</code>, etc.?&#41;</p> <h2 id=pure_functions ><a href="#pure_functions">Pure functions</a></h2> <p>Also as much as possible functions should be <em>pure</em>. This is an important programming style that will make your code better and easier to read/debug etc. To clarify what this means let&#39;s divide the world of functions into 4 categories using two different properties.</p> <p>Our first property is that of having <em>side-effects</em>. A function that has side-effects is one that changes something each time it is called. Such a function will effect the state of the world/program in some way other than simply returning a value. Such a function can be said to <em>do</em> something. An example would be a function called <code>switch_off</code> that switches off your computer. Other examples would be if a function writes to a file, prints something in the terminal or show something on the screen. We can divide all functions into those that have side-effects and those that do not.</p> <p>The second property we will use to distinguish functions is whether the value of the function depends in some way on anything other than its input arguments. An example of this would be a function <code>get_cpu_temperature</code> that returns the current temperature of the CPU. Other examples would be functions that read from files or depend on the state of global &#40;non-constant&#41; variables. We can divide the world of functions into those that depend only on their arguments and those that also depend on external state in some way. Functions that only depend on their arguments have the important property that they will always return the same value for the same input arguments.</p> <p>A function which neither has side-effects nor depends on external state is called a <em>pure</em> function. This corresponds to the mathematical definition of a function as an object </p> <span class=katex-display ><span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML" display=block ><semantics><mrow><mi>f</mi><mo>:</mo><mi>A</mi><mo>→</mo><mi>B</mi></mrow><annotation encoding="application/x-tex">f: A \to B</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.8888799999999999em;vertical-align:-0.19444em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >:</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >→</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span></span> <p>that associates elements from a set <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>A</mi></mrow><annotation encoding="application/x-tex">A</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal">A</span></span></span></span> with elements from a set <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>B</mi></mrow><annotation encoding="application/x-tex">B</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathnormal" style="margin-right:0.05017em;">B</span></span></span></span>. Pure functions are very easy to analyse and use in your code since their behaviour is isolated from all surrounding code. We only need to look at the code <em>inside</em> the function &#40;and then any functions it calls&#41; in order to understand what the function does.</p> <p>By contrast with pure functions, when a function depends on external state &#40;e.g. global variables&#41; we need to care about <em>when</em> the function was called in order to understand what it will do. If a function depends on the state of a global variable then we need to understand when the global variable would be modified to understand the function. In this case we might need to analyse an <em>entire</em> program checking for any time that the global variable might be modified by some other code.</p> <p>Likewise when functions have <em>side-effects</em> we also need to care about when they are called. If for example two functions print something then calling them in a different order changes the output of a program. Likewise calling the function more than once is not equivalent to just calling it once.</p> <p>We will therefore divide the world of functions into 4 categories:</p> <ol> <li><p>Pure functions. These do not depend on external state and do not have side-effects. As much as possible we should build our code from pure functions.</p> <li><p>Input functions. These depend on external state but do not have side-effects. Most programs will need to have some kind of input functions but we should carefully limit the places where we use these.</p> <li><p>Output functions. These do not depend on external state but do have side-effects. Again most programs will probably want to have some output so we will need to use these but we should limit the places where these occur.</p> <li><p>Other functions. These are functions that both depend on external state and have side-effects. We usually want to avoid doing this but it is usually necessary for the higher-level functions in a program &#40;the <code>main</code> function would normally come under this category&#41;.</p> </ol> <p>Pure functions are good and we should use them as much as possible but it is also usually necessary to have some input/output so we can&#39;t only use them. We should try to segregate them from everything else though. Generally we don&#39;t want to have a function that does both input and output or that does input and then does many calculations with the input. A standard pattern would be to have a function for input, functions for processing, and then a function for output.</p> <h2 id=a_short_demo ><a href="#a_short_demo">A short demo</a></h2> <p>Let&#39;s consider this with an example. Suppose I have a CSV file containing student&#39;s grades and that its contents looks like:</p> <pre><code class="text hljs">Tom,60
Dick,80
Harry,50</code></pre> <p>I have decided that actually I want to fail Dick &#40;for plagiarism&#41; so I want to change his grade to zero. To do that I want to read the CSV file into some data structure in memory, change the grade, and then write the result back out to a CSV file. Here&#39;s a script that does exactly that &#40;don&#39;t worry if you don&#39;t fully understand this&#41;:</p> <pre><code class="python hljs"><span class=hljs-comment >#!/usr/bin/env python3</span>
<span class=hljs-comment >#</span>
<span class=hljs-comment >#  zero_students.py</span>
<span class=hljs-comment >#</span>
<span class=hljs-comment >#  Usage:</span>
<span class=hljs-comment >#</span>
<span class=hljs-comment >#    $ ./zero_students.py grades.csv grades_zeroed.csv Dave</span>
<span class=hljs-comment >#</span>

<span class=hljs-keyword >import</span> csv

<span class=hljs-function ><span class=hljs-keyword >def</span> <span class=hljs-title >main</span>(<span class=hljs-params >inputfile, outputfile, *students_to_zero</span>):</span>
    <span class=hljs-string >&#x27;&#x27;&#x27;Read CSV from inputfile, zero grades and write CSV to outputfile

    inputfile: filename to read
    outputfile: filename to write zeroed results to
    students_to_zero: list of student names whose marks should be zero
    &#x27;&#x27;&#x27;</span>
    <span class=hljs-comment ># Input name/grades CSV file</span>
    names_grades = read_grades(inputfile)

    <span class=hljs-comment ># Zero the grades for the named students</span>
    zero_grades(names_grades, students_to_zero)

    <span class=hljs-comment ># Output name/grades CSV file</span>
    write_grades(outputfile, names_grades)

<span class=hljs-function ><span class=hljs-keyword >def</span> <span class=hljs-title >read_grades</span>(<span class=hljs-params >inputfile</span>):</span>
    <span class=hljs-string >&#x27;&#x27;&#x27;Read CSV file into a list of (name,grade) tuples.&#x27;&#x27;&#x27;</span>
    <span class=hljs-keyword >with</span> <span class=hljs-built_in >open</span>(inputfile) <span class=hljs-keyword >as</span> fin:
        reader = csv.reader(fin)
        names_grades = []
        <span class=hljs-keyword >for</span> name, grade <span class=hljs-keyword >in</span> reader:
            <span class=hljs-comment ># note that grade is also a string here</span>
            names_grades.append((name, grade))
    <span class=hljs-keyword >return</span> names_grades

<span class=hljs-function ><span class=hljs-keyword >def</span> <span class=hljs-title >write_grades</span>(<span class=hljs-params >outputfile, names_grades</span>):</span>
    <span class=hljs-string >&#x27;&#x27;&#x27;Write list of (name,grade) tuples to outputfile&#x27;&#x27;&#x27;</span>
    <span class=hljs-keyword >with</span> <span class=hljs-built_in >open</span>(outputfile, <span class=hljs-string >&quot;w&quot;</span>) <span class=hljs-keyword >as</span> fout:
        writer = csv.writer(fout)
        <span class=hljs-keyword >for</span> name, grade <span class=hljs-keyword >in</span> names_grades:
            row = (name, grade)
            writer.writerow(row)


<span class=hljs-function ><span class=hljs-keyword >def</span> <span class=hljs-title >zero_grades</span>(<span class=hljs-params >names_grades, students_to_zero</span>):</span>
    <span class=hljs-string >&#x27;&#x27;&#x27;Set grades to zero for students names in students_to_zero&#x27;&#x27;&#x27;</span>
    N = <span class=hljs-built_in >len</span>(names_grades)
    <span class=hljs-keyword >for</span> n <span class=hljs-keyword >in</span> <span class=hljs-built_in >range</span>(N):
        name, grade = names_grades[n]
        <span class=hljs-keyword >if</span> name <span class=hljs-keyword >in</span> students_to_zero:
            <span class=hljs-comment ># Set grade to zero (grade is a string)</span>
            names_grades[n] = (name, <span class=hljs-string >&quot;0&quot;</span>)


<span class=hljs-keyword >if</span> __name__ == <span class=hljs-string >&quot;__main__&quot;</span>:
    <span class=hljs-keyword >import</span> sys
    main(*sys.argv[<span class=hljs-number >1</span>:])</code></pre> <p>I can run the above to see</p> <pre><code class="bash hljs">$ ./zero_students.py grades.csv grades_zeroed.csv Dick
$ cat grades_zeroed.csv 
Tom,60
Dick,0
Harry,50</code></pre> <p>You may find the above confusing as it users a number of concepts that we haven&#39;t covered yet. If you want to know then the docs and tutorial can tell you more about <a href="https://docs.python.org/3/library/csv.html">the csv module</a>, <a href="https://docs.python.org/3/tutorial/inputoutput.html#reading-and-writing-files">reading/writing files</a>, or what the <code>__name__</code> <a href="https://docs.python.org/3/tutorial/modules.html#executing-modules-as-scripts">part at the end is doing</a>.</p> <p>I don&#39;t expect you to fully understand the program above but I want you to see that it is neatly divided into an input function, an output function, and a function in between that computes something. The middle function <code>zero_grades</code> is to be considered our <em>pure function</em>. Actually technically it is not a pure function since it modifies its input argument &#40;<code>names_grades</code>&#41; but that doesn&#39;t matter so much.</p> <p>What I want you to take from the above is the sense of the structure of a Python script where we have many small functions and the functional division between the input, output and in-between functions. As your code gets larger this kind of structure will help to organise things.</p> <p>Note that if you get good at Python then it can be a very succinct language. The program above can be written in a shorter way like:</p> <pre><code class="python hljs"><span class=hljs-comment >#!/usr/bin/env python3</span>
<span class=hljs-comment >#</span>
<span class=hljs-comment >#    $ ./zero_students2.py grades.csv grades_zeroed.csv Dave ...</span>
<span class=hljs-comment >#</span>
<span class=hljs-comment ># Zero grades of named students.</span>

<span class=hljs-keyword >import</span> sys
<span class=hljs-keyword >import</span> csv

_, inputfile, outputfile, *students_to_zero = sys.argv

<span class=hljs-keyword >with</span> <span class=hljs-built_in >open</span>(inputfile) <span class=hljs-keyword >as</span> fin, <span class=hljs-built_in >open</span>(outputfile, <span class=hljs-string >&quot;w&quot;</span>) <span class=hljs-keyword >as</span> fout:
    reader = csv.reader(fin)
    writer = csv.writer(fout)
    <span class=hljs-keyword >for</span> name, grade <span class=hljs-keyword >in</span> reader:
        <span class=hljs-keyword >if</span> name <span class=hljs-keyword >in</span> students_to_zero:
            grade = <span class=hljs-string >&quot;0&quot;</span>
        writer.writerow((name, grade))</code></pre> <p>This version mixes together reading and writing in the same loop which is actually more efficient &#40;for much larger CSV files&#41; since it doesn&#39;t require loading everything into memory at once. Unfortunately this necessarily involves mixing together our code for input and output unless we use more advanced features of the language such as <em>classes</em> or <em>generators</em>.</p> <p>This kind of lazy code with no functions or structure is okay for small programs like this but should be avoided if you have any sense that your code will end up getting large.</p> <h2 id=good_use_of_functions ><a href="#good_use_of_functions">Good use of functions</a></h2> <p>We use functions to break up our programs making them easier to understand. Well-written functions should ideally be small and easy to understand in isolation. Generally I like a function to fit in the screen so that I can see the whole thing all at once. Occasionally there are good reasons for larger functions but only in rare situations.</p> <p>It&#39;s important for a function to fit within the screen so that you can easily see what it does. Ideally the way you divide up your program should mean that it&#39;s easy to see what a function does and whether or not it is correct just by quickly looking at it.</p> <p>However the most important places where we want to quickly understand what a function does are not where it is <em>defined</em> but where it is <em>called</em>. Usually a function, say <code>f</code>, calls some other functions, say <code>g</code> and <code>h</code>. I want to be able to look at &#40;the definition of&#41; <code>f</code> and verify its correctness, or change it in some way without needing to also go and look at <code>g</code> and <code>h</code> to see what they do.</p> <p>So how do we improve the readability of something like the function <code>f</code> below?</p> <pre><code class="python hljs"><span class=hljs-function ><span class=hljs-keyword >def</span> <span class=hljs-title >f</span>(<span class=hljs-params >a, b</span>):</span>
    c = g(a)
    <span class=hljs-keyword >return</span> h(c, b)</code></pre> <p>Looking at this function it is really not clear what it does. The main problem is in fact the <em>names</em> of the functions and variables. The function names <code>f</code>, <code>g</code> and <code>h</code> convey nothing about what those functions do. That&#39;s bad enough for <code>f</code> but I am at least <em>looking</em> at <code>f</code> right now so I can see its code. The other functions <code>g</code> and <code>h</code> are somewhere else, perhaps in another file. I have no way to understand what <code>g</code> and <code>h</code> do without finding them because their names communicate nothing. It&#39;s very important when writing functions to give them good names because of the distant readability effect that the names have on the code. The same is also true in a more local sense with the names of the variables <code>a</code>, <code>b</code> and <code>c</code>. To find out what <code>a</code> and <code>b</code> are supposed to represent I&#39;ll probably need to go and read the code that calls <code>f</code>. The variable <code>c</code> is local to this function but is at least passed to <code>h</code> so perhaps the definition of <code>h</code> will help me to understand what it is.</p> <p>With the last paragraph in mind, look at the <code>zero_students.py</code> script above and think about the names used there. The first function is called <code>main</code>. There is a generally accepted convention that the action of a program is contained within the <code>main</code> function. I know &#40;or rather assume&#41; when I look at this function that it represents the program as a whole so this name is communicating something to me.</p> <p>Input functions normally have names like <code>read_X</code> or <code>get_X</code> to indicate their purpose. Likewise output functions have names like <code>write_X</code>, <code>set_X</code>, <code>print_X</code> etc. Sometimes we have a pair of input/output functions that are supposed to act more or less like inverses. You can communicate this relationship between functions by using consistent naming e.g. <code>read_grades</code> and <code>write_grades</code>.</p> <p>Some functions <em>do</em> something like <code>zero_grades</code> and should have a name that is a <em>verb</em> representing the action &#40;zero is intended as a verb here - it means to set something to zero&#41;. Note that this particular function does not return a value. It modifies its argument which to me feels like an action. If it did return a value then its name should represent the value returned. For example I could change the <code>zero_grades</code> function to return a new list instead of modifying the list passed in like so:</p> <pre><code class="python hljs"><span class=hljs-function ><span class=hljs-keyword >def</span> <span class=hljs-title >zeroed_grades</span>(<span class=hljs-params >names_grades, students_to_zero</span>):</span>
    new_grades = []
    <span class=hljs-keyword >for</span> name, grade <span class=hljs-keyword >in</span> names_grades:
        <span class=hljs-keyword >if</span> name <span class=hljs-keyword >in</span> students_to_zero:
            grade = <span class=hljs-string >&quot;0&quot;</span>
        new_grades.append((name, grade))
    <span class=hljs-keyword >return</span> new_grades</code></pre> <p>Then we would call it like</p> <pre><code class="python hljs">new_grades = zeroed_grades(names_grades, students_to_zero):</code></pre>
<p>Now we can see that I have renamed the function as <code>zeroed_grades</code> which is a noun description representing the object that it <em>returns</em>. This <code>zeroed_grades</code> function is a true pure function and should be named after its return value.</p>
<p>Notice how much information is conveyed by the names in that last line of code. You could read that line of code in isolation from the entire rest of the program and possibly understand what it does, what it returns, and what each of its arguments represents. It almost communicates the entire meaning of the program&#33; Good use of names has a <em>big</em> impact on the readability of your code.</p>
<h2 id=exercises ><a href="#exercises">Exercises</a></h2>
<ol>
<li><p>Given a list of numbers <code>data &#61; &#91;2, 3, 1, -1&#93;</code> write a loop that prints the square of each element of the list e.g.</p>

</ol>
<pre><code class="text hljs">4
9
1
1</code></pre>
<ol start=2 >
<li><p>Now write a function that takes a list like <code>data</code> and <em>returns</em> a new list with each number squared i.e. <code>&#91;4, 9, 1, 1&#93;</code>.</p>

<li><p>Write a function that filters a list of numbers like <code>data</code>, giving a list containing only the positive numbers.</p>

<li><p>How would you print the elements of <code>data</code> in reverse?</p>

<li><p>Create your own factorial function. Is it faster or slower then <code>math.factorial</code> &#40;try it with large numbers&#41;?</p>

<li><p>Given that <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >e</mi><mo>=</mo><mn>1</mn><mo>+</mo><mn>1</mn><mo>+</mo><mfrac><mn>1</mn><mn>2</mn></mfrac><mo>+</mo><mfrac><mn>1</mn><mrow><mn>3</mn><mo stretchy=false >!</mo></mrow></mfrac><mo>+</mo><mo>⋯</mo><mo>+</mo><mfrac><mn>1</mn><mrow><mi>n</mi><mo stretchy=false >!</mo></mrow></mfrac><mo>+</mo><mo>⋯</mo></mrow><annotation encoding="application/x-tex">\mathrm{e} = 1 + 1 + \frac{1}{2} + \frac{1}{3!} + \cdots + \frac{1}{n!} + \cdots</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class=mord ><span class="mord mathrm">e</span></span><span class=mspace  style="margin-right:0.2777777777777778em;"></span><span class=mrel >=</span><span class=mspace  style="margin-right:0.2777777777777778em;"></span></span><span class=base ><span class=strut  style="height:0.72777em;vertical-align:-0.08333em;"></span><span class=mord >1</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.72777em;vertical-align:-0.08333em;"></span><span class=mord >1</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.190108em;vertical-align:-0.345em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">2</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.190108em;vertical-align:-0.345em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">3</span><span class="mclose mtight">!</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.66666em;vertical-align:-0.08333em;"></span><span class=minner >⋯</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:1.190108em;vertical-align:-0.345em;"></span><span class=mord ><span class="mopen nulldelimiter"></span><span class=mfrac ><span class="vlist-t vlist-t2"><span class=vlist-r ><span class=vlist  style="height:0.845108em;"><span style="top:-2.6550000000000002em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight">n</span><span class="mclose mtight">!</span></span></span></span><span style="top:-3.23em;"><span class=pstrut  style="height:3em;"></span><span class=frac-line  style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class=pstrut  style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">1</span></span></span></span></span><span class=vlist-s >​</span></span><span class=vlist-r ><span class=vlist  style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class=mspace  style="margin-right:0.2222222222222222em;"></span><span class=mbin >+</span><span class=mspace  style="margin-right:0.2222222222222222em;"></span></span><span class=base ><span class=strut  style="height:0.31em;vertical-align:0em;"></span><span class=minner >⋯</span></span></span></span> write a loop the calculates the value of <span class=katex ><span class=katex-mathml ><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi mathvariant=normal >e</mi></mrow><annotation encoding="application/x-tex">\mathrm{e}</annotation></semantics></math></span><span class=katex-html  aria-hidden=true ><span class=base ><span class=strut  style="height:0.43056em;vertical-align:0em;"></span><span class=mord ><span class="mord mathrm">e</span></span></span></span></span> to approximately 10 d.p.</p>

<li><p>Create a function that calculates the mean of a list of numbers.</p>

<li><p>Write a program &#40;with a <code>main</code> function&#41; that reads the arguments passed on the command line and prints their product so e.g.</p>

</ol>
<pre><code class="bash hljs">$ ./product.py 3 4
12
$ ./product.py 3 4 2
24</code></pre>
<ol start=9 >
<li><p>The function <code>os.listdir</code> &#40;see <a href="https://docs.python.org/2/library/os.html#os.listdir">docs</a>&#41; returns a list of the file and folder names in a given folder. Create a program that prints the names of all <code>.py</code> files in a given folder e.g.</p>

</ol>
<pre><code class="bash hljs">$ ./lspy.py csv
zero_students2.py  zero_students3.py  zero_students.py</code></pre>
<h2 id=finished ><a href="#finished">Finished?</a></h2>
<p>If you&#39;re happy with these you can move on to <a href="../structures/">data structures</a>.</p>
<div class=page-foot >
  <div class=copyright >
    &copy; Oscar Benjamin. Last modified: February 09, 2021. Website built with <a href="https://github.com/tlienart/Franklin.jl">Franklin.jl</a> and the <a href="https://julialang.org">Julia programming language</a>.
  </div>
</div>
</div>